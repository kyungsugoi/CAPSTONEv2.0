{"ast":null,"code":"var _jsxFileName = \"/Users/okpass/Documents/SCHOOL/FALL23/496/capstone/src/pages/Courses.js\";\nimport '../App.css';\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\n//This Class is the blank structure for the Model that was created in api\\models.py\n//It is used to read in the information from the MySQL backend and to write out to it\n//for editing and deleting.\nclass Courses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeItem: {\n        cid: \"\",\n        cname: \"\"\n      },\n      //a blank list where the entries from the database will be stored into later\n      cList: []\n    };\n    //This Method sends a GET request to the Django Rest-API to request the latest updates to the list\n    this.refreshList = () => {\n      axios\n      //get from the address provided\n      .get(\"/api/courses/\")\n      //wait on the response and update the state of the list\n      .then(res => this.setState({\n        cList: res.data\n      }))\n      //a catch statement if there is an error returned from the server\n      .catch(err => console.log(err));\n    };\n    //A toggle to change the state of the Modal window (the Add New Student popup window)\n    //In one state the window is visible, in the other state the window is not visible\n    //This toggle also adds the \"X\" to the uppper right hand corner of the window\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n    //The Toggle for the ModalDel window (the Delete Student window). Same functionality as above.\n    this.toggledel = () => {\n      this.setState({\n        modaldel: !this.state.modaldel\n      });\n    };\n    //A Method that is called when new data needs to be POST'ed to the Django server.\n    this.handleSubmit = item => {\n      //toggle the window closed\n      this.toggle();\n      //check to see if the item ID already exists\n      if (item.id) {\n        //if it does, update the values in the database with the newly added values\n        axios.put(`/api/courses/${item.id}/`, item)\n        //refresh the list\n        .then(res => this.refreshList());\n        return;\n      }\n      //If the item ID does not already exist, create a brand new entry in the Database\n      axios.post(\"/api/courses/\", item).then(res => this.refreshList());\n    };\n    //When called this Method will visually render the list of students. This includes ID, Name, and Email.\n    //everything is created inside of the return() statement.\n    this.renderItems = () => {\n      //creates a list inside the method that can store the items from studList while they are written out\n      const newItems = this.state.cList;\n      //inside of the return is where the output is given shape and form.\n      //start by defining the header for the table with all of the columns and their titles\n      //after that define the body\n      //inside create a smaller sub-function that will loop through the list above (newItems) and populates the table\n      //with all of the information that you need to display\n      //in the final column add in a Button that will be used to Edit the student information\n      newItems.map(item => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }\n        }, item.cid), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }\n        }, item.cname), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-secondary mr-2\",\n          onClick: () => this.editItem(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }, \"Edit\")));\n      });\n    };\n  }\n  //A method that can be applied to this. It calls the refreshlist method\n  componentDidMount() {\n    axios.get(\"/api/students\").then(response => {\n      this.setState({\n        response: response\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  /*This is the render that creates the actual webpage. all above methods will be called from inside of here\n    when it is appropriate for them to execute. \n    First the page is given shape, the Header is placed. \n    Next the page is separated so that the card (the box) where everything else will be is placed. \n    Once the card is created the buttons are created and placed at the top. The buttons are given function and\n    the \"onClick\" command is set to call the appropriate method. \n    Under the buttons there is a header to explain the information fields that will come next.\n    Next the renderItems method is called. This will fill the remaining area with the information that has been\n    pulled from the Django database and is stored in a local class (studList).\n    At the very end is where the Modal states (the popup windows) are set up and hidden, awaiting the button to \n    activate them.\n  */\n  render() {\n    //everything is inside of a return so that it is all rendered on the webpage.\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-black text-uppercase text-center my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, \"Student Information\"));\n  }\n}\n//closing statement\nexport default Courses;","map":{"version":3,"names":["React","Component","axios","Courses","constructor","args","state","activeItem","cid","cname","cList","refreshList","get","then","res","setState","data","catch","err","console","log","toggle","modal","toggledel","modaldel","handleSubmit","item","id","put","post","renderItems","newItems","map","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","editItem","componentDidMount","response","error","render"],"sources":["/Users/okpass/Documents/SCHOOL/FALL23/496/capstone/src/pages/Courses.js"],"sourcesContent":["import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\n//This Class is the blank structure for the Model that was created in api\\models.py\n//It is used to read in the information from the MySQL backend and to write out to it\n//for editing and deleting.\nclass Courses extends Component {\n    state = {\n      activeItem: {\n        cid: \"\",\n        cname: \"\",\n      },\n      //a blank list where the entries from the database will be stored into later\n      cList: []\n    };\n  \n    //A method that can be applied to this. It calls the refreshlist method\n    componentDidMount() {\n        axios.get(\"/api/students\")\n        .then( (response) => {\n            this.setState({response: response})\n        })\n        .catch( (error) => {\n            console.log(error);\n        })\n    }\n  \n    //This Method sends a GET request to the Django Rest-API to request the latest updates to the list\n    refreshList = () => {\n      axios\n        //get from the address provided\n        .get(\"/api/courses/\")\n        //wait on the response and update the state of the list\n        .then((res) => this.setState({ cList: res.data }))\n        //a catch statement if there is an error returned from the server\n        .catch((err) => console.log(err));\n    };\n  \n    //A toggle to change the state of the Modal window (the Add New Student popup window)\n    //In one state the window is visible, in the other state the window is not visible\n    //This toggle also adds the \"X\" to the uppper right hand corner of the window\n    toggle = () => {\n      this.setState({ modal: !this.state.modal });\n    };\n  \n    //The Toggle for the ModalDel window (the Delete Student window). Same functionality as above.\n    toggledel = () => {\n      this.setState({ modaldel: !this.state.modaldel });\n    };\n  \n    //A Method that is called when new data needs to be POST'ed to the Django server.\n    handleSubmit = (item) => {\n      //toggle the window closed\n      this.toggle();\n      //check to see if the item ID already exists\n      if (item.id) {\n        //if it does, update the values in the database with the newly added values\n        axios\n          .put(`/api/courses/${item.id}/`, item)\n          //refresh the list\n          .then((res) => this.refreshList());\n        return;\n      }\n      //If the item ID does not already exist, create a brand new entry in the Database\n      axios\n        .post(\"/api/courses/\", item)\n        .then((res) => this.refreshList());\n    }\n  \n    //When called this Method will visually render the list of students. This includes ID, Name, and Email.\n    //everything is created inside of the return() statement.\n    renderItems = () => {\n      //creates a list inside the method that can store the items from studList while they are written out\n      const newItems = this.state.cList;\n      //inside of the return is where the output is given shape and form.\n      //start by defining the header for the table with all of the columns and their titles\n      //after that define the body\n      //inside create a smaller sub-function that will loop through the list above (newItems) and populates the table\n      //with all of the information that you need to display\n      //in the final column add in a Button that will be used to Edit the student information\n      newItems.map((item) => {\n        return(\n          <tr>\n            <td>{item.cid}</td>\n            <td>{item.cname}</td>\n            <td><button \n                  className=\"btn btn-secondary mr-2\"\n                  onClick={() => this.editItem(item)}>Edit\n                </button>\n            </td>\n          </tr>\n        );\n      })\n    };\n  \n    /*This is the render that creates the actual webpage. all above methods will be called from inside of here\n      when it is appropriate for them to execute. \n      First the page is given shape, the Header is placed. \n      Next the page is separated so that the card (the box) where everything else will be is placed. \n      Once the card is created the buttons are created and placed at the top. The buttons are given function and\n      the \"onClick\" command is set to call the appropriate method. \n      Under the buttons there is a header to explain the information fields that will come next.\n      Next the renderItems method is called. This will fill the remaining area with the information that has been\n      pulled from the Django database and is stored in a local class (studList).\n      At the very end is where the Modal states (the popup windows) are set up and hidden, awaiting the button to \n      activate them.\n    */\n    render() {\n      //everything is inside of a return so that it is all rendered on the webpage.\n      return (\n        <main className=\"content\">\n        <h1 className=\"text-black text-uppercase text-center my-4\">Student Information</h1>\n      </main>\n      )\n    }\n  }\n  //closing statement\nexport default Courses;"],"mappings":"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"},"metadata":{},"sourceType":"module"}