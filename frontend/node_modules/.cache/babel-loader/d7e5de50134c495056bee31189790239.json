{"ast":null,"code":"var _jsxFileName = \"/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js\";\n//import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\nfunction CourseList() {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }, \" pls\");\n}\n\n/*\nclass CourseList extends Component {\n\n    state = {\n        activeItem: {\n          cid: \"\",\n          ccode: \"\",\n          cname: \"\",\n          cdesc: \"\",\n        },\n        courseList: []\n      };\n\n      componentDidMount() {\n        this.refreshList();\n      }\n\n      refreshList = () => {\n        axios\n          .get(\"/api/courses/\")\n          .then((res) => this.setState({ courseList: res.data }))\n          .catch((err) => console.log(err));\n      };\n\n      toggle = () => {\n        this.setState({ modal: !this.state.modal });\n      };\n  \n      toggledel = () => {\n        this.setState({ modaldel: !this.state.modaldel });\n      };\n\n      handleSubmit = (item) => {\n        this.toggle();\n        if (item.cid) {\n          axios\n            .put(\"/api/courses/${item.cid}/\", item)\n            .then((res) => this.refreshList());\n          return;\n        }\n        axios\n          .post(\"/api/courses/\", item)\n          .then((res) => this.refreshList());\n      };\n      handleDelete = (item) => {\n        //toggle the delete window closed\n        this.toggledel();\n        axios\n          .delete(\"/api/courses/${item.cid}/\")\n          .then((res) => this.refreshList());\n      };\n  \n      createItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      editItem = (item) => {\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      deleteItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modaldel: !this.state.modaldel });\n      };\n  \n      renderItems = () => {\n        const newItems = this.state.courseList;\n        return ( (\n          <Table>\n\n            {newItems.map((item) => {\n                return(\n                  <tr>\n                    <td>{item.cid}</td>\n                    <td>{item.ccode}</td>\n                    <td>{item.cname}</td>\n                    <td>{item.cdesc}</td>\n                    <td><button \n                        className=\"btn btn-secondary mr-2\"\n                        onClick={() => this.editItem(item)}>Edit\n                      </button>\n                  </td>\n                  </tr>\n                );\n              })}\n          </Table>\n        ));\n      };\n\n      render() {\n        return (\n        <main className=\"content\">\n        <h1 className=\"text-black text-uppercase text-left my-4\">Course Information</h1>\n            {this.renderItems()}\n            <button onClick={this.refreshList} className=\"btn btn-primary mr-2\">Refresh List</button>\n                <button onClick={this.createItem} className=\"btn btn-success mr-2\">Add Course</button>\n                <button onClick={this.deleteItem} className=\"btn btn-danger mr-2\">Delete Course</button>\n            {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ): null}\n        {this.state.modaldel ? (\n          <ModalDel\n            activeItem={this.state.activeItem}\n            toggle={this.toggledel}\n            onSave={this.handleDelete}\n          />\n        ): null}\n\n        </main>\n        )\n      }\n    }\n\n  \n  //closing statement\n  */\nexport default CourseList;","map":{"version":3,"names":["React","Component","axios","Modal","ModalDel","Table","CourseList","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js"],"sourcesContent":["//import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from  \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\n\nfunction CourseList() {\n  return( \n      <h1> pls\n      </h1>\n  );\n\n}\n\n/*\nclass CourseList extends Component {\n\n    state = {\n        activeItem: {\n          cid: \"\",\n          ccode: \"\",\n          cname: \"\",\n          cdesc: \"\",\n        },\n        courseList: []\n      };\n\n      componentDidMount() {\n        this.refreshList();\n      }\n\n      refreshList = () => {\n        axios\n          .get(\"/api/courses/\")\n          .then((res) => this.setState({ courseList: res.data }))\n          .catch((err) => console.log(err));\n      };\n\n      toggle = () => {\n        this.setState({ modal: !this.state.modal });\n      };\n  \n      toggledel = () => {\n        this.setState({ modaldel: !this.state.modaldel });\n      };\n\n      handleSubmit = (item) => {\n        this.toggle();\n        if (item.cid) {\n          axios\n            .put(\"/api/courses/${item.cid}/\", item)\n            .then((res) => this.refreshList());\n          return;\n        }\n        axios\n          .post(\"/api/courses/\", item)\n          .then((res) => this.refreshList());\n      };\n      handleDelete = (item) => {\n        //toggle the delete window closed\n        this.toggledel();\n        axios\n          .delete(\"/api/courses/${item.cid}/\")\n          .then((res) => this.refreshList());\n      };\n  \n      createItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      editItem = (item) => {\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      deleteItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modaldel: !this.state.modaldel });\n      };\n  \n      renderItems = () => {\n        const newItems = this.state.courseList;\n        return ( (\n          <Table>\n\n            {newItems.map((item) => {\n                return(\n                  <tr>\n                    <td>{item.cid}</td>\n                    <td>{item.ccode}</td>\n                    <td>{item.cname}</td>\n                    <td>{item.cdesc}</td>\n                    <td><button \n                        className=\"btn btn-secondary mr-2\"\n                        onClick={() => this.editItem(item)}>Edit\n                      </button>\n                  </td>\n                  </tr>\n                );\n              })}\n          </Table>\n        ));\n      };\n\n      render() {\n        return (\n        <main className=\"content\">\n        <h1 className=\"text-black text-uppercase text-left my-4\">Course Information</h1>\n            {this.renderItems()}\n            <button onClick={this.refreshList} className=\"btn btn-primary mr-2\">Refresh List</button>\n                <button onClick={this.createItem} className=\"btn btn-success mr-2\">Add Course</button>\n                <button onClick={this.deleteItem} className=\"btn btn-danger mr-2\">Delete Course</button>\n            {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ): null}\n        {this.state.modaldel ? (\n          <ModalDel\n            activeItem={this.state.activeItem}\n            toggle={this.toggledel}\n            onSave={this.handleDelete}\n          />\n        ): null}\n\n        </main>\n        )\n      }\n    }\n\n  \n  //closing statement\n  */\nexport default CourseList;"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,QAAQ,MAAO,wBAAwB;AAC9C,SAASC,KAAK,QAAQ,YAAY;AAElC,SAASC,UAAUA,CAAA,EAAG;EACpB,oBACIN,KAAA,CAAAO,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,MACA,CAAC;AAGX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeP,UAAU"},"metadata":{},"sourceType":"module"}