{"ast":null,"code":"var _jsxFileName = \"/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js\";\nimport '../App.css';\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\nimport SearchBar from './Search-bar'; // Import the SearchBar component\n\nclass CourseList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeItem: {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      },\n      courseList: []\n    };\n    this.refreshList = () => {\n      axios.get(\"/api/courses/\").then(res => this.setState({\n        courseList: res.data\n      })).catch(err => console.log(err));\n    };\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n    this.toggledel = () => {\n      this.setState({\n        modaldel: !this.state.modaldel\n      });\n    };\n    this.handleSubmit = item => {\n      this.toggle();\n      if (item.cid) {\n        axios.put(`/api/courses/${item.cid}/`, item).then(res => this.refreshList());\n        return;\n      }\n      axios.post(\"/api/courses/\", item).then(res => this.refreshList());\n    };\n    this.handleDelete = item => {\n      //toggle the delete window closed\n      this.toggledel();\n      axios.delete(`/api/courses/${item.cid}/`).then(res => this.refreshList());\n    };\n    this.createItem = () => {\n      const item = {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      };\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n    this.editItem = item => {\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n    this.deleteItem = () => {\n      const item = {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      };\n      this.setState({\n        activeItem: item,\n        modaldel: !this.state.modaldel\n      });\n    };\n    this.renderItems = () => {\n      const newItems = this.state.courseList;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"course-reviews-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, newItems.map(item => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }\n        }, item.cid), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }\n        }, item.ccode), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }\n        }, item.cname), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }\n        }, item.cdesc), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-secondary mr-2\",\n          onClick: () => this.editItem(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 23\n          }\n        }, \"Edit\")));\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.refreshList,\n        className: \"btn btn-primary mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 23\n        }\n      }, \"Refresh List\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.createItem,\n        className: \"btn btn-success mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, \"Add Course\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.deleteItem,\n        className: \"btn btn-danger mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, \"Delete Course\"))));\n    };\n  }\n  componentDidMount() {\n    this.refreshList();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-black text-uppercase text-left my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, \"Course Information\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-bar-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    })), this.renderItems(), this.state.modal ? /*#__PURE__*/React.createElement(Modal, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggle,\n      onSave: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }) : null, this.state.modaldel ? /*#__PURE__*/React.createElement(ModalDel, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggledel,\n      onSave: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }) : null);\n  }\n}\nexport default CourseList;","map":{"version":3,"names":["React","Component","axios","Modal","ModalDel","Table","SearchBar","CourseList","constructor","args","state","activeItem","cid","ccode","cname","cdesc","courseList","refreshList","get","then","res","setState","data","catch","err","console","log","toggle","modal","toggledel","modaldel","handleSubmit","item","put","post","handleDelete","delete","createItem","editItem","deleteItem","renderItems","newItems","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","align","map","onClick","componentDidMount","render","onSave"],"sources":["/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js"],"sourcesContent":["import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from  \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\nimport SearchBar from './Search-bar'; // Import the SearchBar component\n\n\nclass CourseList extends Component {\n\n  \n\n  state = {\n      activeItem: {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\",\n      },\n      courseList: []\n    };\n\n    componentDidMount() {\n      this.refreshList();\n    }\n\n    refreshList = () => {\n      axios\n        .get(\"/api/courses/\")\n        .then((res) => this.setState({ courseList: res.data }))\n        .catch((err) => console.log(err));\n    };\n\n    toggle = () => {\n      this.setState({ modal: !this.state.modal });\n    };\n\n    toggledel = () => {\n      this.setState({ modaldel: !this.state.modaldel });\n    };\n\n    handleSubmit = (item) => {\n      this.toggle();\n      if (item.cid) {\n        axios\n          .put(`/api/courses/${item.cid}/`, item)\n          .then((res) => this.refreshList());\n        return;\n      }\n      axios\n        .post(\"/api/courses/\", item)\n        .then((res) => this.refreshList());\n    };\n    handleDelete = (item) => {\n      //toggle the delete window closed\n      this.toggledel();\n      axios\n        .delete(`/api/courses/${item.cid}/`)\n        .then((res) => this.refreshList());\n    };\n\n    createItem = () => {\n      const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n      this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    editItem = (item) => {\n      this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    deleteItem = () => {\n      const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n      this.setState({ activeItem: item, modaldel: !this.state.modaldel });\n    };\n\n    renderItems = () => {\n      const newItems = this.state.courseList;\n      return ( (\n<div className='course-reviews-container'>\n            <center>\n                <table align = \"center\">\n          {newItems.map((item) => {\n              return(\n                <tr>\n                  <td>{item.cid}</td>\n                  <td>{item.ccode}</td>\n                  <td>{item.cname}</td>\n                  <td>{item.cdesc}</td>\n                  <td><button \n                      className=\"btn btn-secondary mr-2\"\n                      onClick={() => this.editItem(item)}>Edit\n                    </button>\n                </td>\n                </tr>\n              );\n            })}\n                      <button onClick={this.refreshList} className=\"btn btn-primary mr-2\">Refresh List</button>\n              <button onClick={this.createItem} className=\"btn btn-success mr-2\">Add Course</button>\n              <button onClick={this.deleteItem} className=\"btn btn-danger mr-2\">Delete Course</button>\n\n        </table>\n        </center>\n        </div>\n      ));\n    };\n\n    render() {\n      return (\n      <main className=\"content\">\n      <h1 className=\"text-black text-uppercase text-left my-4\">Course Information</h1>\n      <div className='search-bar-container'>\n            <SearchBar/>\n        </div>\n          {this.renderItems()}\n          {this.state.modal ? (\n        <Modal\n          activeItem={this.state.activeItem}\n          toggle={this.toggle}\n          onSave={this.handleSubmit}\n        />\n      ): null}\n      {this.state.modaldel ? (\n        <ModalDel\n          activeItem={this.state.activeItem}\n          toggle={this.toggledel}\n          onSave={this.handleDelete}\n        />\n      ): null}\n\n      </main>\n      )\n    }\n  }\n\nexport default CourseList;"],"mappings":";AAAA,OAAO,YAAY;AACnB,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,QAAQ,MAAO,wBAAwB;AAC9C,SAASC,KAAK,QAAQ,YAAY;AAClC,OAAOC,SAAS,MAAM,cAAc,CAAC,CAAC;;AAGtC,MAAMC,UAAU,SAASN,SAAS,CAAC;EAAAO,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAIjCC,KAAK,GAAG;MACJC,UAAU,EAAE;QACVC,GAAG,EAAE,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE;MACT,CAAC;MACDC,UAAU,EAAE;IACd,CAAC;IAAA,KAMDC,WAAW,GAAG,MAAM;MAClBf,KAAK,CACFgB,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACC,QAAQ,CAAC;QAAEL,UAAU,EAAEI,GAAG,CAACE;MAAK,CAAC,CAAC,CAAC,CACtDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACrC,CAAC;IAAA,KAEDG,MAAM,GAAG,MAAM;MACb,IAAI,CAACN,QAAQ,CAAC;QAAEO,KAAK,EAAE,CAAC,IAAI,CAAClB,KAAK,CAACkB;MAAM,CAAC,CAAC;IAC7C,CAAC;IAAA,KAEDC,SAAS,GAAG,MAAM;MAChB,IAAI,CAACR,QAAQ,CAAC;QAAES,QAAQ,EAAE,CAAC,IAAI,CAACpB,KAAK,CAACoB;MAAS,CAAC,CAAC;IACnD,CAAC;IAAA,KAEDC,YAAY,GAAIC,IAAI,IAAK;MACvB,IAAI,CAACL,MAAM,CAAC,CAAC;MACb,IAAIK,IAAI,CAACpB,GAAG,EAAE;QACZV,KAAK,CACF+B,GAAG,CAAE,gBAAeD,IAAI,CAACpB,GAAI,GAAE,EAAEoB,IAAI,CAAC,CACtCb,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACH,WAAW,CAAC,CAAC,CAAC;QACpC;MACF;MACAf,KAAK,CACFgC,IAAI,CAAC,eAAe,EAAEF,IAAI,CAAC,CAC3Bb,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACH,WAAW,CAAC,CAAC,CAAC;IACtC,CAAC;IAAA,KACDkB,YAAY,GAAIH,IAAI,IAAK;MACvB;MACA,IAAI,CAACH,SAAS,CAAC,CAAC;MAChB3B,KAAK,CACFkC,MAAM,CAAE,gBAAeJ,IAAI,CAACpB,GAAI,GAAE,CAAC,CACnCO,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACH,WAAW,CAAC,CAAC,CAAC;IACtC,CAAC;IAAA,KAEDoB,UAAU,GAAG,MAAM;MACjB,MAAML,IAAI,GAAG;QAACpB,GAAG,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;MACxD,IAAI,CAACM,QAAQ,CAAC;QAAEV,UAAU,EAAEqB,IAAI;QAAEJ,KAAK,EAAE,CAAC,IAAI,CAAClB,KAAK,CAACkB;MAAM,CAAC,CAAC;IAC/D,CAAC;IAAA,KAEDU,QAAQ,GAAIN,IAAI,IAAK;MACnB,IAAI,CAACX,QAAQ,CAAC;QAAEV,UAAU,EAAEqB,IAAI;QAAEJ,KAAK,EAAE,CAAC,IAAI,CAAClB,KAAK,CAACkB;MAAM,CAAC,CAAC;IAC/D,CAAC;IAAA,KAEDW,UAAU,GAAG,MAAM;MACjB,MAAMP,IAAI,GAAG;QAACpB,GAAG,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;MACxD,IAAI,CAACM,QAAQ,CAAC;QAAEV,UAAU,EAAEqB,IAAI;QAAEF,QAAQ,EAAE,CAAC,IAAI,CAACpB,KAAK,CAACoB;MAAS,CAAC,CAAC;IACrE,CAAC;IAAA,KAEDU,WAAW,GAAG,MAAM;MAClB,MAAMC,QAAQ,GAAG,IAAI,CAAC/B,KAAK,CAACM,UAAU;MACtC,oBACNhB,KAAA,CAAA0C,aAAA;QAAKC,SAAS,EAAC,0BAA0B;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC7BjD,KAAA,CAAA0C,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACIjD,KAAA,CAAA0C,aAAA;QAAOQ,KAAK,EAAG,QAAQ;QAAAN,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAC5BR,QAAQ,CAACU,GAAG,CAAEnB,IAAI,IAAK;QACpB,oBACEhC,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,gBACEjD,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,GAAKjB,IAAI,CAACpB,GAAQ,CAAC,eACnBZ,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,GAAKjB,IAAI,CAACnB,KAAU,CAAC,eACrBb,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,GAAKjB,IAAI,CAAClB,KAAU,CAAC,eACrBd,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,GAAKjB,IAAI,CAACjB,KAAU,CAAC,eACrBf,KAAA,CAAA0C,aAAA;UAAAE,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,gBAAIjD,KAAA,CAAA0C,aAAA;UACAC,SAAS,EAAC,wBAAwB;UAClCS,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACd,QAAQ,CAACN,IAAI,CAAE;UAAAY,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,GAAC,MAC9B,CACR,CACA,CAAC;MAET,CAAC,CAAC,eACQjD,KAAA,CAAA0C,aAAA;QAAQU,OAAO,EAAE,IAAI,CAACnC,WAAY;QAAC0B,SAAS,EAAC,sBAAsB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAC,cAAoB,CAAC,eACjGjD,KAAA,CAAA0C,aAAA;QAAQU,OAAO,EAAE,IAAI,CAACf,UAAW;QAACM,SAAS,EAAC,sBAAsB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAC,YAAkB,CAAC,eACtFjD,KAAA,CAAA0C,aAAA;QAAQU,OAAO,EAAE,IAAI,CAACb,UAAW;QAACI,SAAS,EAAC,qBAAqB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAC,eAAqB,CAEtF,CACC,CACH,CAAC;IAEV,CAAC;EAAA;EAlFDI,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACpC,WAAW,CAAC,CAAC;EACpB;EAkFAqC,MAAMA,CAAA,EAAG;IACP,oBACAtD,KAAA,CAAA0C,aAAA;MAAMC,SAAS,EAAC,SAAS;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACzBjD,KAAA,CAAA0C,aAAA;MAAIC,SAAS,EAAC,0CAA0C;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,oBAAsB,CAAC,eAChFjD,KAAA,CAAA0C,aAAA;MAAKC,SAAS,EAAC,sBAAsB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/BjD,KAAA,CAAA0C,aAAA,CAACpC,SAAS;MAAAsC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CACV,CAAC,EACH,IAAI,CAACT,WAAW,CAAC,CAAC,EAClB,IAAI,CAAC9B,KAAK,CAACkB,KAAK,gBACnB5B,KAAA,CAAA0C,aAAA,CAACvC,KAAK;MACJQ,UAAU,EAAE,IAAI,CAACD,KAAK,CAACC,UAAW;MAClCgB,MAAM,EAAE,IAAI,CAACA,MAAO;MACpB4B,MAAM,EAAE,IAAI,CAACxB,YAAa;MAAAa,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC3B,CAAC,GACD,IAAI,EACN,IAAI,CAACvC,KAAK,CAACoB,QAAQ,gBAClB9B,KAAA,CAAA0C,aAAA,CAACtC,QAAQ;MACPO,UAAU,EAAE,IAAI,CAACD,KAAK,CAACC,UAAW;MAClCgB,MAAM,EAAE,IAAI,CAACE,SAAU;MACvB0B,MAAM,EAAE,IAAI,CAACpB,YAAa;MAAAS,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC3B,CAAC,GACD,IAEG,CAAC;EAET;AACF;AAEF,eAAe1C,UAAU"},"metadata":{},"sourceType":"module"}