{"ast":null,"code":"var _jsxFileName = \"/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js\";\nimport '../App.css';\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\nconst url = \"http://localhost:5000/api\";\nfunction CourseList() {\n  const state = {\n    activeItem: {\n      cid: \"\",\n      ccode: \"\",\n      cname: \"\",\n      cdesc: \"\"\n    },\n    courseList: []\n  };\n  const componentDidMount = () => {\n    this.refreshList();\n  };\n  const refreshList = () => {\n    axios.get(\"/api/courses/\").then(res => this.setState({\n      courseList: res.data\n    })).catch(err => console.log(err));\n  };\n  const toggle = () => {\n    this.setState({\n      modal: !this.state.modal\n    });\n  };\n  const toggledel = () => {\n    this.setState({\n      modaldel: !this.state.modaldel\n    });\n  };\n  const handleSubmit = item => {\n    this.toggle();\n    if (item.cid) {\n      axios.put(`/api/courses/${item.cid}/`, item).then(res => this.refreshList());\n      return;\n    }\n    axios.post(\"/api/courses/\", item).then(res => this.refreshList());\n  };\n  const handleDelete = item => {\n    //toggle the delete window closed\n    this.toggledel();\n    axios.delete(`/api/courses/${item.cid}/`).then(res => this.refreshList());\n  };\n  const createItem = () => {\n    const item = {\n      cid: \"\",\n      ccode: \"\",\n      cname: \"\",\n      cdesc: \"\"\n    };\n    this.setState({\n      activeItem: item,\n      modal: !this.state.modal\n    });\n  };\n  const editItem = item => {\n    this.setState({\n      activeItem: item,\n      modal: !this.state.modal\n    });\n  };\n  const deleteItem = () => {\n    const item = {\n      cid: \"\",\n      ccode: \"\",\n      cname: \"\",\n      cdesc: \"\"\n    };\n    this.setState({\n      activeItem: item,\n      modaldel: !this.state.modaldel\n    });\n  };\n  const renderItems = () => {\n    const newItems = this.state.courseList;\n    return /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, newItems.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, item.cid), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }\n      }, item.ccode), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, item.cname), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, item.cdesc), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-secondary mr-2\",\n        onClick: () => this.editItem(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 23\n        }\n      }, \"Edit\")));\n    }));\n  };\n  const render = () => {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-black text-uppercase text-left my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, \"Course Information\"), this.renderItems(), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.refreshList,\n      className: \"btn btn-primary mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"Refresh List\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.createItem,\n      className: \"btn btn-success mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"Add Course\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.deleteItem,\n      className: \"btn btn-danger mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, \"Delete Course\"), this.state.modal ? /*#__PURE__*/React.createElement(Modal, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggle,\n      onSave: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }) : null, this.state.modaldel ? /*#__PURE__*/React.createElement(ModalDel, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggledel,\n      onSave: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }) : null);\n  };\n}\nexport default CourseList;","map":{"version":3,"names":["React","Component","axios","Modal","ModalDel","Table","url","CourseList","state","activeItem","cid","ccode","cname","cdesc","courseList","componentDidMount","refreshList","get","then","res","setState","data","catch","err","console","log","toggle","modal","toggledel","modaldel","handleSubmit","item","put","post","handleDelete","delete","createItem","editItem","deleteItem","renderItems","newItems","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","className","onClick","render","onSave"],"sources":["/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js"],"sourcesContent":["import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from  \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\n\nconst url = \"http://localhost:5000/api\";\n\nfunction CourseList() {\n\n  const state = {\n      activeItem: {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\",\n      },\n      courseList: []\n    };\n\n  const componentDidMount = () => {\n      this.refreshList();\n    }\n\n    const  refreshList = () => {\n      axios\n        .get(\"/api/courses/\")\n        .then((res) => this.setState({ courseList: res.data }))\n        .catch((err) => console.log(err));\n    };\n\n    const toggle = () => {\n      this.setState({ modal: !this.state.modal });\n    };\n\n    const toggledel = () => {\n      this.setState({ modaldel: !this.state.modaldel });\n    };\n\n    const handleSubmit = (item) => {\n      this.toggle();\n      if (item.cid) {\n        axios\n          .put(`/api/courses/${item.cid}/`, item)\n          .then((res) => this.refreshList());\n        return;\n      }\n      axios\n        .post(\"/api/courses/\", item)\n        .then((res) => this.refreshList());\n    };\n    const handleDelete = (item) => {\n      //toggle the delete window closed\n      this.toggledel();\n      axios\n        .delete(`/api/courses/${item.cid}/`)\n        .then((res) => this.refreshList());\n    };\n\n    const createItem = () => {\n      const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n      this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    const editItem = (item) => {\n      this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    const deleteItem = () => {\n      const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n      this.setState({ activeItem: item, modaldel: !this.state.modaldel });\n    };\n\n    const renderItems = () => {\n      const newItems = this.state.courseList;\n      return ( (\n        <Table>\n\n          {newItems.map((item) => {\n              return(\n                <tr>\n                  <td>{item.cid}</td>\n                  <td>{item.ccode}</td>\n                  <td>{item.cname}</td>\n                  <td>{item.cdesc}</td>\n                  <td><button \n                      className=\"btn btn-secondary mr-2\"\n                      onClick={() => this.editItem(item)}>Edit\n                    </button>\n                </td>\n                </tr>\n              );\n            })}\n        </Table>\n      ));\n    };\n\n    const render = () => {\n      return (\n      <main className=\"content\">\n      <h1 className=\"text-black text-uppercase text-left my-4\">Course Information</h1>\n          {this.renderItems()}\n          <button onClick={this.refreshList} className=\"btn btn-primary mr-2\">Refresh List</button>\n              <button onClick={this.createItem} className=\"btn btn-success mr-2\">Add Course</button>\n              <button onClick={this.deleteItem} className=\"btn btn-danger mr-2\">Delete Course</button>\n          {this.state.modal ? (\n        <Modal\n          activeItem={this.state.activeItem}\n          toggle={this.toggle}\n          onSave={this.handleSubmit}\n        />\n      ): null}\n      {this.state.modaldel ? (\n        <ModalDel\n          activeItem={this.state.activeItem}\n          toggle={this.toggledel}\n          onSave={this.handleDelete}\n        />\n      ): null}\n\n      </main>\n      )\n    }\n  }\n\nexport default CourseList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}