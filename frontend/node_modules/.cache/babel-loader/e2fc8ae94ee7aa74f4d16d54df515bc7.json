{"ast":null,"code":"var _jsxFileName = \"/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js\";\nimport '../App.css';\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\nconst url = \"http://localhost:5000/api\";\nclass CourseList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.fetchData = async () => {\n      endpoint = `${url}/courses`;\n      try {\n        const response = await axios.get(endpoint, {\n          method: 'GET'\n        });\n        const data = await response.json();\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    this.state = {\n      activeItem: {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      },\n      courseList: []\n    };\n    this.refreshList = () => {\n      axios.get(\"/api/courses/\").then(res => this.setState({\n        courseList: res.data\n      })).catch(err => console.log(err));\n    };\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n    this.toggledel = () => {\n      this.setState({\n        modaldel: !this.state.modaldel\n      });\n    };\n    this.handleSubmit = item => {\n      this.toggle();\n      if (item.cid) {\n        axios.put(`/api/courses/${item.cid}/`, item).then(res => this.refreshList());\n        return;\n      }\n      axios.post(\"/api/courses/\", item).then(res => this.refreshList());\n    };\n    this.handleDelete = item => {\n      //toggle the delete window closed\n      this.toggledel();\n      axios.delete(`/api/courses/${item.cid}/`).then(res => this.refreshList());\n    };\n    this.createItem = () => {\n      const item = {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      };\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n    this.editItem = item => {\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n    this.deleteItem = () => {\n      const item = {\n        cid: \"\",\n        ccode: \"\",\n        cname: \"\",\n        cdesc: \"\"\n      };\n      this.setState({\n        activeItem: item,\n        modaldel: !this.state.modaldel\n      });\n    };\n    this.renderItems = () => {\n      const newItems = this.state.courseList;\n      return /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      }, newItems.map(item => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }\n        }, item.cid), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }\n        }, item.ccode), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }\n        }, item.cname), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }\n        }, item.cdesc), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-secondary mr-2\",\n          onClick: () => this.editItem(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }\n        }, \"Edit\")));\n      }));\n    };\n  }\n  componentDidMount() {\n    this.refreshList();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-black text-uppercase text-left my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \"Course Information\"), this.renderItems(), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.refreshList,\n      className: \"btn btn-primary mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"Refresh List\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.createItem,\n      className: \"btn btn-success mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Add Course\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.deleteItem,\n      className: \"btn btn-danger mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, \"Delete Course\"), this.state.modal ? /*#__PURE__*/React.createElement(Modal, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggle,\n      onSave: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }) : null, this.state.modaldel ? /*#__PURE__*/React.createElement(ModalDel, {\n      activeItem: this.state.activeItem,\n      toggle: this.toggledel,\n      onSave: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }) : null);\n  }\n}\nexport default CourseList;","map":{"version":3,"names":["React","Component","axios","Modal","ModalDel","Table","url","CourseList","constructor","args","fetchData","endpoint","response","get","method","data","json","console","log","err","state","activeItem","cid","ccode","cname","cdesc","courseList","refreshList","then","res","setState","catch","toggle","modal","toggledel","modaldel","handleSubmit","item","put","post","handleDelete","delete","createItem","editItem","deleteItem","renderItems","newItems","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","className","onClick","componentDidMount","render","onSave"],"sources":["/Users/okpass/Documents/SCHOOL/FALL23/capstone/frontend/src/pages/CourseList.js"],"sourcesContent":["import '../App.css'; \nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport ModalDel from  \"../components/ModalDel\";\nimport { Table } from \"reactstrap\";\n\nconst url = \"http://localhost:5000/api\";\n\nclass CourseList extends Component {\n\n\n  fetchData = async() => {\n    endpoint = `${url}/courses`\n    try{\n      const response = await axios.get(endpoint, {method: 'GET'} );\n      const data = await response.json()\n      console.log(data);\n    }\n    catch(err){\n      console.log(err);\n    }\n  };\n\n    state = {\n        activeItem: {\n          cid: \"\",\n          ccode: \"\",\n          cname: \"\",\n          cdesc: \"\",\n        },\n        courseList: []\n      };\n\n      componentDidMount() {\n        this.refreshList();\n      }\n\n      refreshList = () => {\n        axios\n          .get(\"/api/courses/\")\n          .then((res) => this.setState({ courseList: res.data }))\n          .catch((err) => console.log(err));\n      };\n\n      toggle = () => {\n        this.setState({ modal: !this.state.modal });\n      };\n  \n      toggledel = () => {\n        this.setState({ modaldel: !this.state.modaldel });\n      };\n\n      handleSubmit = (item) => {\n        this.toggle();\n        if (item.cid) {\n          axios\n            .put(`/api/courses/${item.cid}/`, item)\n            .then((res) => this.refreshList());\n          return;\n        }\n        axios\n          .post(\"/api/courses/\", item)\n          .then((res) => this.refreshList());\n      };\n      handleDelete = (item) => {\n        //toggle the delete window closed\n        this.toggledel();\n        axios\n          .delete(`/api/courses/${item.cid}/`)\n          .then((res) => this.refreshList());\n      };\n  \n      createItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      editItem = (item) => {\n        this.setState({ activeItem: item, modal: !this.state.modal });\n      };\n\n      deleteItem = () => {\n        const item = {cid: \"\", ccode: \"\", cname: \"\", cdesc: \"\" };\n        this.setState({ activeItem: item, modaldel: !this.state.modaldel });\n      };\n  \n      renderItems = () => {\n        const newItems = this.state.courseList;\n        return ( (\n          <Table>\n\n            {newItems.map((item) => {\n                return(\n                  <tr>\n                    <td>{item.cid}</td>\n                    <td>{item.ccode}</td>\n                    <td>{item.cname}</td>\n                    <td>{item.cdesc}</td>\n                    <td><button \n                        className=\"btn btn-secondary mr-2\"\n                        onClick={() => this.editItem(item)}>Edit\n                      </button>\n                  </td>\n                  </tr>\n                );\n              })}\n          </Table>\n        ));\n      };\n\n      render() {\n        return (\n        <main className=\"content\">\n        <h1 className=\"text-black text-uppercase text-left my-4\">Course Information</h1>\n            {this.renderItems()}\n            <button onClick={this.refreshList} className=\"btn btn-primary mr-2\">Refresh List</button>\n                <button onClick={this.createItem} className=\"btn btn-success mr-2\">Add Course</button>\n                <button onClick={this.deleteItem} className=\"btn btn-danger mr-2\">Delete Course</button>\n            {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ): null}\n        {this.state.modaldel ? (\n          <ModalDel\n            activeItem={this.state.activeItem}\n            toggle={this.toggledel}\n            onSave={this.handleDelete}\n          />\n        ): null}\n\n        </main>\n        )\n      }\n    }\n\nexport default CourseList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}